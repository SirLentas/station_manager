# station_manager

Δημιουργία εκτελέσιμου:
=======================
Η δημιουργία του εκτελέσιμου γίνεται με την κληση της εντολής make η οποία δημιουργεί το mysort ,η διαγραφή του οποίου 
γίνεται με την clean, χάρη στο makefile που υπάρχει στο φάκελο.

Κλήση εφαρμογής:
================
Η εφαρμογή καλείται με την εξής εντολή
./mystation -l config.txt

Τα αρχεια που περιλαμβανονται ειναι τα εξης:
============================================
mystation.c
comtroller.c
station_manager.c
bus.c
shared_memory.h
&
config.txt	(configuration file)
public_ledger	(δείγμα απο προηγουμενη εκτελεση)

Αρχεία εξοδου:
==============
Το προγραμμα δημιουργεί (ή ανανεώνει σε κάθε νέα κλήση) το αρχείο public_ledger στο οποίο
περιέχονται αναλυτικά όλες οι κινήσεις που έγιναν μέσα στον σταθμό κατα τη λειτουργεία του.
Για την εγγραφη στο αρχείο υπάρχει ενα κλείδωμα mutex που εξασφαλίζει οτι δεν θα γράφει πάνω απο μία
διεργασία σε αυτό την ίδια χρονική στιγμή.

Έξοδος στο tty:
===============
Στο tty εμφανίζονται τα στατιστικα που παρέχει ο comtroller ανα χρονικες περιοδους που οριζει ο χρηστης μέσω του config.txt.

Configuration file:
===================
Στο config.txt που περιέχεται μέσα στο φάκελο ο χρήστης μπορεί να παραμετροποιήσει όπως θέλει το σταθμό και τη λειτουργεία του.
Οι χρονοι μεσα στο configuration μπορουν να ειναι μονο ακεραιοι αριθμοι.

Πληροφορίες για τη δομή του σταθμού:
====================================
Κάθε μια απο τις 3 νησίδες αποτελειται απο εναν αριθμο bay που οριζεται μεσω του configuration file και καθε bay εχει 
μια χωρητικοτητα αναλογα τον τυπο λεωφορειων που φιλοξενει. Επομενως καθε νησιδα εχει χωρητικοτητα ιση με τον αριθμο 
των bay που την αποτελουν επι τη χωρητικοτητα του bay. 

Παράδειγμα: Εστω Number of Bays=2 και Capacity of a ASK bay=5 τοτε η νησιδα ASK εχει χωρητικοτητα 2*5=10 θεσεων. 

Πολιτικη επικοινωνιας bus και manager μεσω σεμαφόρων:
=====================================================
Καθε λεωφορειο που θελει να εισελθει στο σταθμο κανει wait για τον σεμαφορο enter.
Ο manager με τη σειρα του αν δει οτι ο αριθμος των εισερχομενων λεωφορειων ειναι ισος με 0 κανει post 
τον σεμαφορο enter και θετει τον αριθμο των εισερχομενων λεωφορειων σε ενα, ο αριθμος αυτος βρισκεται στο shared memory. 
Επομενως μετα το sleep του Bus για την προσομοιωση του mantime το bus κανει τον αριθμο των εισερχομενων λεωφορειων
ξανα 0 και ετσι ο manager μπορει να κανει post τον σεμαφορο enter για το επομενο λεωφορειο.

Η ιδια πολιτικη ακολουθειται και για την εξοδο απο το σταθμο με τον semaphore exit.

Εισοδος λεωφορειων στη σωστη νησιδα:
====================================
Αφου το λεωφορειο παρει το πρασινο φως για εισοσο στο σταθμο βρισκει τη θεση του στο σταθμο ακολουθώντας την πολιτικη της
εκφωνησης και αποθηκευει τη θεση του σε μια μεταβλητη position ωστε να μπορεσει να την απελευθερωσει οταν κανει εξοδο.

Τερματισμος προγραμματος:
=========================
Μετα την εξυπηρετηση όλων των λεωφορειων που δημιουργηθηκαν μεσω του configuration file (εμφανιζεται σχετικο μηνυμα) το προγραμμα 
συνεχιζει να εκτελειται μεχρι ο χρηστης να πατησει το enter. Αυτο γινεται ωστε να δωθει στο χρηστη αρκετος χρονος για να καλεσει 
το προγραμμα bus και σε καποιο αλλο τερματικο.
